seed_everything: 42

fit:
  run_batch_size_finder: false
  batch_size_finder_mode: power
  run_lr_finder: false
  show_lr_plot: false

predict:
  out_dir: outputs/predictions
  grid_nrow: 16
  ckpt_path: checkpoints/cvae.ckpt
  label_key: condition

trainer:
  default_root_dir: outputs
  callbacks:
    - class_path: callbacks.predict_save.SavePredictionsCallback
      init_args:
        out_dir: ${predict.out_dir}
        grid_nrow: ${predict.grid_nrow}
        label_key: ${predict.label_key}

model:
  input_dim: 210
  condition_dim: 3
  latent_dim: 32
  hidden_dims: [512, 256, 128]
  dropout: 0.1
  loss_name: beta_vae
  loss_params:
    beta: 4.0
    recon: mse
  lr: 0.001
  weight_decay: 0.0
  scheduler_cfg:
    name: cosine
    T_max: 200

data:
  csv_path: data/simpler_data_rwc.csv
  condition_columns:
    - gv_fraction
    - npv_fraction
    - soil_fraction
  spectral_range: [400, 2490, 10]
  batch_size: 256
  num_workers: 4
  splits: [0.8, 0.1, 0.1]
  seed: 42
  pin_memory: true

ckpt_path: ${predict.ckpt_path}
